# Copyright (c) 2019 Patrick Diehl
#
# Distributed under the Boost Software License, Version 1.0. (See accompanying
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

FROM fedora:30
MAINTAINER Patrick Diehl <patrickdiehl@lsu.edu>
# install dependencies
RUN dnf update -y
RUN dnf install -y \ 
hpx-devel \
cmake \
blaze-devel \ 
vtk-devel \
yaml-cpp-devel 

ENV CC gcc
ENV CXX g++

RUN git clone  https://github.com/prashjha/NLMech.git --depth=1

RUN mkdir build && cd build

RUN cmake -DHPX_IGNORE_COMPILER_COMPATIBILITY=ON -DCMAKE_BUILD_TYPE=Release ..

RUN make -j 
